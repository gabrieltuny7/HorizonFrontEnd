<app-navbar></app-navbar>
<div id="layoutSidenav">
    <div id="layoutSidenav_content">
        <main>
            <div class="container-fluid">
                <h1 class="mt-4">Clientes</h1>
                <ol class="breadcrumb mb-4">
                    <li class="breadcrumb-item active">
                        <span class="breadcrumb-text">
                            {{ cliente.id ? 'Edição' : 'Cadastro' }}
                        </span>
                    </li>
                </ol>
            </div>
            <div class="container">
                <form #clienteForm="ngForm" (ngSubmit)="onSubmit()" class="animated-input">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="alert alert-success" role="alert" *ngIf="success">
                                Cliente salvo/atualizado com sucesso!
                            </div>
                            <div class="alert alert-danger" role="alert" *ngFor="let erro of errors">
                                {{ erro }}
                            </div>
                        </div>
                    </div>
                    <br>
                    <div class="row" *ngIf="cliente.id">
                        <div class="col-md-6">
                            <label>ID:</label>
                            <br>
                            <input type="text" class="form-control" disabled [ngModel]="cliente.id" name="cliente.id" />
                        </div>
                        <div class="col-md-6">
                            <label>Data Cadastro:</label>
                            <br>
                            <input type="text" class="form-control" disabled [ngModel]="cliente.dataCadastro" name="cliente.dataCadastro" />
                        </div>
                    </div>
            
                    <br>
                    <div class="row">
                        <div class="col-md-6">
                            <label>Nome:</label>
                            <br>
                            <input type="text" class="form-control" [(ngModel)]="cliente.nome" name="cliente.nome" required />
                        </div>
                        <div class="col-md-6">
                            <label>CPF:</label>
                            <br>
                            <input type="text" class="form-control" [(ngModel)]="cliente.cpf" name="cliente.cpf" (ngModelChange)="applyCpfMask($event)" maxlength="14" [disabled]="cliente.id !== undefined" required />
                        </div>
                    </div>
                    <br>
                    <div class="row">
                        <div class="col-md-6">
                            <label>Telefone:</label>
                            <input type="text" class="form-control" [(ngModel)]="cliente.telefone" name="cliente.telefone" maxlength="11" required />
                        </div>
                        <div class="col-md-6">
                            <label>Email:</label>
                            <input type="email" class="form-control" [(ngModel)]="cliente.email" name="cliente.email" required />
                        </div>
                    </div>
                    <br>
                    <div class="row">
                        <div class="col-md-4">
                            <button type="submit" class="btn btn-success" *ngIf="!cliente.id">
                                <fa-icon [icon]="faBookmark"></fa-icon> Salvar
                            </button>
                            <button type="submit" class="btn btn-primary" *ngIf="cliente.id">
                                <fa-icon [icon]="faSync"></fa-icon> Atualizar
                            </button>
                            <button type="button" class="btn btn-danger ml-2" (click)="voltarParaListagem()">
                                <fa-icon [icon]="faLeftLong"></fa-icon> Voltar
                            </button>
                        </div>
                    </div>
                </form>
            </div>
            
        </main>
    </div>
</div>
